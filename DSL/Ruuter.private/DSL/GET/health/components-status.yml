getTimHealth:
  call: http.post
  args:
    url: "[#CHATBOT_TIM]:[#CHATBOT_TIM_PORT]/healthz"
  result: tim_res

getDataMapperHealth:
  call: http.post
  args:
    url: "[#CHATBOT_DMAPPER]:[#CHATBOT_DMAPPER_PORT]/healthz"
  result: data_mapper_res  

getPublicRuuterHealth:
  call: http.post
  args:
    url: "[#CHATBOT_RUUTER_PUBLIC]:[#CHATBOT_RUUTER_PUBLIC_PORT]/healthz"
  result: public_ruuter_res

getPrivateRuuterHealth:
  call: http.post
  args:
    url: "[#CHATBOT_RUUTER_PRIVATE]:[#CHATBOT_RUUTER_PRIVATE_PORT]/healthz"
  result: private_ruuter_res  

getResqlHealth:
  call: http.post
  args:
    url: "[#CHATBOT_RESQL]:[#CHATBOT_RESQL_PORT]/healthz"
  result: resql_res

formatHealthResponse:
  call: http.post
  args:
    url: "[#CHATBOT_DMAPPER]:[#CHATBOT_DMAPPER_PORT]/hbs/chat-bot/return_components_health"
    body:
     tim: "{tim_res.response.body}"
     data_mapper: "{data_mapper_res.response.body}"
     public_ruuter: "{public_ruuter_res.response.body}"
     private_ruuter: "{private_ruuter_res.response.body}"
     resql: "{resql.response.body}"
  result: res

return_result:
  return: ${res.response.body}
